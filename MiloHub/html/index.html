<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>MiloHub</title>

    <link rel="icon" href="../pictures/logo_du_site.png">
    <link rel="stylesheet" href="../css/style.css">

</head>
    
<body>

    <!-- section head de la page -->
    <section class="top-page">
        <!-- le header de la section 1 -->
        <header class="headerTopPage">
            <img src="../pictures/logo_du_site.png"  alt="logo du site">
            <nav class="navigation">
                <li>Acceuil</li>
                <li>JavaScript</li>
                <li>Python</li>
                <li>Unity</li>
            </nav>
        </header>  
        <!-- corp de la section 1 -->
        <div class="landing-page">
            <h1 class="bigTitle">Milo Hub</h1>
            <a class="scrollDown" href="">scroll</a>
        </div>
    </section>
    <!-- section 2 -->
    <section class="js-page">
        <header class="headerJs">
            <div class="contentJs">
                <h1 class="titleJs">My Game JavaScript</h1>
                <p class="textJs">
                    lqliusdfhvoquhrfvoqiueghfrv
                    dfgqswdfgbwsrthsrthsrtgh
                    dtfghsrthbsrtghb
                    srthbstgnbstrgdnh
                    stgnhstghnbsrdtghnb
                </p>
            </div>
            <canvas id="logoJs">
            </canvas>
        </header>
    </section>
    <!-- section 3 -->
    <section class="py-page">
        <header class="headerPy">
            <div class="contentPy">
                <h1 class="titlePy">My Python Game</h1>
                <p class="textPy">
                    lqliusdfhvoquhrfvoqiueghfrv
                    dfgqswdfgbwsrthsrthsrtgh
                    dtfghsrthbsrtghb
                    srthbstgnbstrgdnh
                    stgnhstghnbsrdtghnb
                </p>
            </div>
            <canvas class="logoPy">
                <img src="" alt="logo python">
            </canvas>
        </header>
    </section>

    <canvas id="test"></canvas>

    <!-- <script src="../js/script.js"></script> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/104/three.js"></script>
    <script src="../librerie/three.js"></script>
    <script src="../librerie/GLTFLoader.js"></script>
    <script src="../librerie/OrbitControls.js"></script>

    <script>

        //Scene
        var scene = new THREE.Scene();
  
        //Camera
          var height = window.innerHeight;
          var width = window.innerWidth;
          var distance = 1000;
          var diag = Math.sqrt((height*height)+(width*width))
          var fov = 2 * Math.atan((diag) / (2 * distance)) * (180 / Math.PI); //Field of View
          var camera = new THREE.PerspectiveCamera(fov, window.innerWidth / window.innerHeight, 0.1, distance);
          camera.position.set(0, 25, -50);
  
        //Canvas
        var myCanvas = document.getElementById('test');
  
        //Renderer
        var renderer = new THREE.WebGLRenderer({
          antialias: true,
          canvas: myCanvas,
          alpha: true
        });
  
  
          //renderer.setClearColor(0x000000);
          renderer.setPixelRatio(window.devicePixelRatio);
          renderer.setSize(window.innerWidth * 0.80, window.innerHeight);
          renderer.shadowMap.enabled = true;
          renderer.shadowMap.type = THREE.PCFSoftShadowMap;
          renderer.gammaInput = true;
          renderer.gammaOutput = true;
          renderer.antialias = true;
          document.body.appendChild( renderer.domElement );
  
          //LIGHTS
          var light = new THREE.AmbientLight(0xffffff, 3);
          light.power = 6640;  // GE Lumens @ 60W incade.
          light.decay = 2;
          light.distance = Infinity;
          light.position.set(0, 2, 0);
          light.castShadow = true;
          light.shadowCameraVisible = true;
          scene.add(light);
  
          //OrbitControls
          orbit = new THREE.OrbitControls(camera, renderer.domElement);
          orbit.maxPolarAngle = Math.PI / 2;
          orbit.update();
  
          // Instantiate a loader
          var loader = new THREE.GLTFLoader();
          loader.load('../textures/scene.glft', handle_load);
  
          var mesh;
  
      function handle_load(gltf)
      {
          mesh = gltf.scene;
          scene.add( mesh );
      }
  
  
      //Render loop
      render();
  
      var delta = 0;
      var prevTime = Date.now();
  
      function render() {
          //exposure
          renderer.toneMappingExposure = Math.pow(0.7, 5.0);  // -> exposure: 0.168
          renderer.render(scene, camera);
  
          requestAnimationFrame(render);
      }
      </script>

</body>
</html>